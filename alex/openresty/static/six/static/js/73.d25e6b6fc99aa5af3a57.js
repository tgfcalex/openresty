webpackJsonp([73],{BOSD:function(n,t,e){"use strict";function a(n){e("Qem3"),e("Io6B")}Object.defineProperty(t,"__esModule",{value:!0});var i=e("ABCa"),r=e("7TQh"),o=e("rLAy"),p=(i.a,r.a,o.a,{components:{XHeader:i.a,PopupRadio:r.a,Toast:o.a},data:function(){return{option1:"",options1:[],cagent:0,cmember:0,title:null,content:"",showTip:!1,grade:"",accountList:[],account:"",screenList:[],isChange:!0,isShowAccountTip:!1}},created:function(){this.getIsMsg(),this.getSub()},methods:{changeSxOption:function(n){this.isChange=!1,this.account=n},searchAccount:function(n){for(var t=[],e=0,a=this.accountList.length;e<a;e++)-1!==this.accountList[e].username.indexOf(n)&&t.push(this.accountList[e].username);return t},getSub:function(){var n=this;(this.grade||"grade"===this.grade)&&this.$api.get(this.$luyou.MESSAGE.GET_RECEIVERS,{playerType:this.grade},function(t){n.accountList=t.data},function(t){n.toast(n.$api.tip(t))})},initOptions:function(){var n=JSON.parse(localStorage.userinfo);1===n.playerLevel?"agent"===n.playerType&&(this.cagent>0?this.options1=["下级玩家"]:0===this.cagent&&0===this.cmember&&(this.options1=[""],this.toast("没有可发消息的下级"))):"agent"===n.playerType?this.cagent>0?this.options1=["上级","下级玩家"]:0===this.cagent&&0===this.cmember&&(this.options1=["上级"]):"member"===n.playerType&&(this.options1=["上级"]),this.option1=this.options1[0]},getIsMsg:function(){var n=this;this.$api.get(this.$luyou.MESSAGE.IS_MSG,null,function(t){n.cagent=t.data.agent,n.cmember=t.data.member,n.initOptions()})},sendMsg:function(){var n=this;this.content||this.toast("内容不能为空"),this.title||this.toast("标题不能为空");var t=this.$luyou.MESSAGE.ADD_MSGS,e="";if(this.option1.indexOf("上级")>-1)e=0;else if(this.option1.indexOf("玩家")>-1)e=1;else{if(!(this.option1.indexOf("会员")>-1))return 1;e=2}var a=void 0;if(0!==e&&""!==this.account){var i=this.grade;t=this.$luyou.MESSAGE.ADD_MSG;var r=[];-1===this.account.indexOf(",")?r.push(this.account):r=this.account.split(","),i||(i="agent"),a=this.$qs.stringify({"lb.token":localStorage.fctoken,"search.content":this.content,"search.title":this.title,playerType:this.grade,"search.userNames":r})}else""===this.account&&(a=this.$qs.stringify({"lb.token":localStorage.fctoken,"search.content":this.content,"search.title":this.title,"search.sendType":e}));this.$api.post(t,a,function(t){localStorage.fctoken=t.extend,0===t.error?(n.showTip=!0,n.title="",n.content="",n.account=""):n.toast("请确认私发账号是否有误")},function(t){t&&n.toast(n.$api.tip(t))})},onHide:function(){this.showTip=!1}},mounted:function(){},watch:{option1:function(n){"下级玩家"===n?this.grade="agent":"下级玩家"===n?this.grade="member":(this.account="",this.grade=!1),this.getSub()},account:function(n){if(!n||!this.isChange)return this.screenList=[],void(this.isChange=!0);this.screenList=this.searchAccount(n),1===this.screenList.length&&this.screenList[0]===n&&(this.screenList=[],this.isChange=!0)}}}),s=function(){var n=this,t=n.$createElement,e=n._self._c||t;return e("div",{staticClass:"edit-wrapper"},[e("div",{staticClass:"content"},[e("form",{attrs:{action:""}},[e("popup-radio",{staticClass:"type",attrs:{title:"发送类别",options:n.options1},model:{value:n.option1,callback:function(t){n.option1=t},expression:"option1"}}),n._v(" "),e("div",{staticClass:"info"},[e("span",[n._v("主题")]),e("input",{directives:[{name:"model",rawName:"v-model",value:n.title,expression:"title"}],attrs:{type:"text",placeholder:"请输入信息主题"},domProps:{value:n.title},on:{input:function(t){t.target.composing||(n.title=t.target.value)}}})]),n._v(" "),"agent"===n.grade||"member"===n.grade?e("div",{staticClass:"info",staticStyle:{position:"relative"}},[e("span",[n._v("账号")]),e("input",{directives:[{name:"model",rawName:"v-model",value:n.account,expression:"account"}],attrs:{type:"text",placeholder:"请输入下级账号私发(选填)"},domProps:{value:n.account},on:{input:function(t){t.target.composing||(n.account=t.target.value)}}}),n._v(" "),e("transition",[0!==n.screenList.length||n.isShowAccountTip?e("div",{staticClass:"email-tip-warp"},[e("div",{staticStyle:{position:"relative"}},n._l(n.screenList,function(t,a){return e("p",{staticClass:"sxOption",on:{click:function(e){n.changeSxOption(t)}}},[n._v(n._s(t))])}),0)]):n._e()])],1):n._e(),n._v(" "),e("div",{staticClass:"replyBox"},[e("span",[n._v("内容")]),n._v(" "),e("textarea",{directives:[{name:"model",rawName:"v-model",value:n.content,expression:"content"}],attrs:{placeholder:"请输入信息内容"},domProps:{value:n.content},on:{input:function(t){t.target.composing||(n.content=t.target.value)}}})])],1)]),n._v(" "),e("div",{staticClass:"selectedBox"},[e("button",{staticClass:"reply",on:{click:n.sendMsg}},[n._v("发送")])]),n._v(" "),e("toast",{on:{"on-hide":n.onHide},model:{value:n.showTip,callback:function(t){n.showTip=t},expression:"showTip"}},[n._v("信息发送成功")])],1)},l=[],c=e("XyMi"),d=a,f=Object(c.a)(p,s,l,!1,d,"data-v-3395ffb4",null);t.default=f.exports},Io6B:function(n,t,e){var a=e("ooEs");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);var i=e("rjj0").default;i("3c1fd423",a,!0,{})},Qem3:function(n,t,e){var a=e("u8Lm");"string"==typeof a&&(a=[[n.i,a,""]]),a.locals&&(n.exports=a.locals);var i=e("rjj0").default;i("d65b7918",a,!0,{})},ooEs:function(n,t,e){t=n.exports=e("FZ+f")(!1),t.push([n.i,"\n@charset \"UTF-8\";\n.sxOption[data-v-3395ffb4] {\n  float: none !important;\n  padding-left: 10px;\n  text-align: left;\n  line-height: 44px;\n}\n.email-tip-warp[data-v-3395ffb4]::before {\n  content: '';\n  width: 0px;\n  height: 0px;\n  border-top: 10px solid transparent;\n  border-right: 10px solid transparent;\n  border-bottom: 10px solid #ddd;\n  border-left: 10px solid transparent;\n  position: absolute;\n  top: -20px;\n  left: 50%;\n}\n.email-tip-warp[data-v-3395ffb4]::after {\n  content: '';\n  width: 0px;\n  height: 0px;\n  border-top: 10px solid transparent;\n  border-right: 10px solid transparent;\n  border-bottom: 10px solid #fff;\n  border-left: 10px solid transparent;\n  position: absolute;\n  top: -19px;\n  left: 50%;\n}\n.email-tip-warp[data-v-3395ffb4] {\n  position: absolute;\n  top: 54px;\n  background: #fff;\n  border: 1px solid #ddd;\n  border-radius: 10px;\n  -webkit-box-shadow: 0px 0px 20px 0px #999;\n          box-shadow: 0px 0px 20px 0px #999;\n  width: 93%;\n  text-align: left;\n  z-index: 100;\n  left: 0px;\n  right: 0px;\n  margin: auto;\n}\n.edit-wrapper .selectedBox[data-v-3395ffb4] {\n  position: relative;\n}\n.content .edit-wrapper .selectedBox .reply[data-v-3395ffb4] {\n  width: 92%;\n  border-radius: 5px;\n}\n/**宝开样式   开始*/\n.baokai[data-v-3395ffb4] {\n  background: transparent -webkit-gradient(linear, left top, right top, from(#00c6ff), to(#0072ff));\n  background: transparent linear-gradient(to right, #00c6ff, #0072ff);\n}\n.baokai-color[data-v-3395ffb4] {\n  color: transparent linear-gradient(to right, #00c6ff, #0072ff);\n}\n.baokai-border[data-v-3395ffb4] {\n  border-color: transparent transparent linear-gradient(to right, #00c6ff, #0072ff) transparent;\n}\n/**宝开样式   结束*/\n/**49样式   开始*/\n.sijiu[data-v-3395ffb4] {\n  background: #AF162A !important;\n}\n.sijiu-color[data-v-3395ffb4] {\n  color: #AF162A !important;\n}\n.sijiu-border[data-v-3395ffb4] {\n  border-color: transparent transparent #AF162A transparent !important;\n}\n/**49样式   结束*/\n/**萝卜样式   开始*/\n/**萝卜样式   结束*/\n/**龙彩样式   开始*/\n.longcai[data-v-3395ffb4] {\n  background: #F98C2D !important;\n}\n.longcai-color[data-v-3395ffb4] {\n  color: #F98C2D !important;\n}\n.longcai-border[data-v-3395ffb4] {\n  border-color: transparent transparent #F98C2D transparent !important;\n}\n/**龙彩样式   结束*/\n",""])},u8Lm:function(n,t,e){var a=e("kxFB");t=n.exports=e("FZ+f")(!1),t.push([n.i,'\n@charset "UTF-8";\n/*头部区域*/\n.email-wrapper .header {\n  position: relative;\n  top: 0;\n  left: 0;\n  right: 0;\n  z-index: 502;\n}\n.email-wrapper .header-tab .vux-tab {\n  width: 148.5px;\n  height: 30px;\n  margin: 6px auto 0;\n  border-radius: 5px;\n  border: 1px solid #fff;\n}\n.email-wrapper .header-tab .vux-tab .vux-tab-ink-bar {\n    display: none !important;\n}\n.email-wrapper .header-tab .vux-tab .vux-tab-item {\n    line-height: 30px;\n    background: transparent;\n    color: #fff;\n    background: #fa6200;\n}\n.email-wrapper .header-tab .vux-tab .vux-tab-item.vux-tab-selected {\n      color: #fa6200;\n      background: #fff;\n}\n.email-wrapper .header-tab .vux-tab .vux-tab-item:first-child {\n      border-top-left-radius: 5px !important;\n      border-bottom-left-radius: 5px !important;\n}\n.email-wrapper .header-tab .vux-tab .vux-tab-item:nth-child(2) {\n      border-top-right-radius: 5px !important;\n      border-bottom-right-radius: 5px !important;\n}\n.email-wrapper .cont-tab {\n  height: 35px;\n}\n.email-wrapper .cont-tab .item {\n    line-height: 35px;\n}\n.email-wrapper .cont-tab .vux-tab {\n    height: 36px;\n}\n.email-wrapper .cont-tab .item.vux-tab-selected {\n    color: #1c9dfc;\n}\n.email-wrapper .cont-tab .vux-tab-ink-bar {\n    background: #1c9dfc;\n}\n.email-wrapper .content-message {\n  display: none;\n}\n.email-wrapper .content-message .vux-tab-wrap {\n    padding-top: 0px;\n}\n.email-wrapper .content-message.active {\n    display: block;\n}\n.email-wrapper .content-message .message-item {\n    background: #fff;\n}\n.email-wrapper .content-message .message-item .mes-hea {\n      height: 45px;\n      font-size: 1.4rem;\n      color: #353535;\n      line-height: 45px;\n      padding-left: 10px;\n      position: relative;\n}\n.email-wrapper .content-message .message-item .mes-hea .title {\n        width: 72%;\n        display: inline-block;\n        overflow: hidden;\n        text-overflow: ellipsis;\n        white-space: nowrap;\n}\n.email-wrapper .content-message .message-item .mes-hea .tag {\n        width: 25px;\n        height: 25px;\n        position: absolute;\n        top: 41px;\n        right: 10px;\n        border-radius: 100%;\n        background: #fff;\n        border: 1px solid #efefef;\n        z-index: 10;\n}\n.email-wrapper .content-message .message-item .mes-hea .tag.active {\n        background: #fff url('+a(e("p3Vl"))+") no-repeat center/65%;\n}\n.email-wrapper .content-message .message-item .mes-con {\n      font-size: 1.2rem;\n      color: #353535;\n      position: relative;\n      display: block;\n}\n.email-wrapper .content-message .message-item .mes-con .cont {\n        padding: 0px 10px;\n        -webkit-line-clamp: 2;\n        display: -webkit-box;\n        -webkit-box-orient: vertical;\n        -webkit-line-clamp: 2;\n        overflow: hidden;\n        color: #666;\n        margin: 0px;\n        width: 82%;\n}\n.email-wrapper .content-message .message-item .mes-con .ext-info {\n        font-size: 1.2rem;\n        color: #adadad;\n        display: -webkit-box;\n        display: -ms-flexbox;\n        display: flex;\n        padding: 10px;\n}\n.email-wrapper .content-message .message-item .mes-con .ext-info span {\n          width: 100%;\n}\n.email-wrapper .content-message .message-item .mes-con .ext-info .right {\n          text-align: right;\n}\n.email-wrapper .selectedBox {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  z-index: 9999;\n  background: #fff;\n}\n.email-wrapper .selectedBox button {\n    margin: 10px 15px;\n    width: 100%;\n    height: 42px;\n    border: none;\n    font-size: 1.7rem;\n    border-radius: 21px;\n}\n.email-wrapper .selectedBox .all {\n    color: #fa6200;\n    border: 1px solid #efefef;\n    background: #fff;\n}\n.email-wrapper .selectedBox .deleted {\n    background: transparent -webkit-gradient(linear, left top, right top, from(#fc901c), to(#f64c01));\n    background: transparent linear-gradient(to right, #fc901c, #f64c01);\n    color: #fff;\n}\n/* 详情 */\n.detail-wrapper {\n  background: #fff;\n}\n.detail-wrapper .tit {\n    padding: 10px;\n    font-size: 1.6rem;\n    color: #353535;\n}\n.detail-wrapper li {\n    padding: 0 10px 8px;\n    color: #adadad;\n    font-size: 1.2rem;\n}\n.detail-wrapper li font {\n      font-size: 1.4rem;\n      color: #fa6200;\n}\n.detail-wrapper li .text {\n      margin-top: 5px;\n      color: #353535;\n}\n.detail-wrapper .mes-det-con {\n    padding: 15px 10px;\n    font-size: 1.2rem;\n    color: #353535;\n}\n.detail-wrapper .selectedBox {\n    position: absolute;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    width: 100%;\n    z-index: 9999;\n    background: #fff;\n    text-align: center;\n}\n.detail-wrapper .selectedBox .reply {\n      margin: 10px 15px;\n      width: 40%;\n      height: 42px;\n      border: none;\n      font-size: 1.7rem;\n      border-radius: 21px;\n      background: transparent -webkit-gradient(linear, left top, right top, from(#fc901c), to(#f64c01));\n      background: transparent linear-gradient(to right, #fc901c, #f64c01);\n      color: #fff;\n}\n.detail-wrapper .selectedBox .reply a {\n        color: #fff;\n}\n.reply-wrapper .info, .reply-wrapper .cont {\n  font-size: 1.4rem;\n  padding: 0 15px;\n  height: 45px;\n  line-height: 45px;\n  background: #fff;\n}\n.reply-wrapper .info p, .reply-wrapper .cont p {\n    float: right;\n}\n.reply-wrapper .info span, .reply-wrapper .cont span {\n    color: #fa6200;\n}\n.reply-wrapper .info-2 p {\n  color: #969696;\n}\n.reply-wrapper .cont {\n  height: auto;\n  padding-bottom: 10px;\n}\n.reply-wrapper .cont p {\n    display: block;\n    float: none;\n    line-height: 20px;\n    color: #969696;\n}\n.reply-wrapper .replyBox {\n  padding: 0 10px;\n  font-size: 1.4rem;\n  line-height: 45px;\n}\n.reply-wrapper .replyBox span {\n    color: #fa6200;\n}\n.reply-wrapper .replyBox textarea {\n    width: 96%;\n    resize: none;\n    min-height: 100px;\n    padding: 5px;\n}\n.reply-wrapper .selectedBox {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  z-index: 9999;\n  background: #fff;\n  text-align: center;\n}\n.reply-wrapper .selectedBox .reply {\n    margin: 10px 15px;\n    width: 40%;\n    height: 42px;\n    border: none;\n    font-size: 1.7rem;\n    border-radius: 21px;\n    background: transparent -webkit-gradient(linear, left top, right top, from(#fc901c), to(#f64c01));\n    background: transparent linear-gradient(to right, #fc901c, #f64c01);\n    color: #fff;\n}\n.edit-wrapper .type {\n  font-size: 1.4rem;\n}\n.edit-wrapper .type .vux-label {\n    font-size: 1.4rem;\n    color: #fa6200;\n}\n.edit-wrapper .info {\n  font-size: 1.4rem;\n  padding: 0 15px;\n  height: 45px;\n  line-height: 45px;\n  border-bottom: 1px solid #efefef;\n  background: #fff;\n  border-top: 1px solid #efefef;\n}\n.edit-wrapper .info p {\n    float: right;\n    color: #969696;\n}\n.edit-wrapper .info span {\n    color: #fa6200;\n}\n.edit-wrapper .info input {\n    float: right;\n    border: none;\n    height: 30px;\n    text-align: right;\n    width: 80%;\n    margin-top: 8px;\n}\n.edit-wrapper .replyBox {\n  padding: 0 15px;\n  font-size: 1.4rem;\n  line-height: 45px;\n}\n.edit-wrapper .replyBox textarea {\n    width: 97%;\n    resize: none;\n    min-height: 150px;\n    border-color: #d3d3d3;\n    padding: 5px;\n}\n.edit-wrapper .replyBox span {\n    color: #fa6200;\n}\n.edit-wrapper .selectedBox {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  width: 100%;\n  z-index: 99;\n  background: #fff;\n  text-align: center;\n}\n.edit-wrapper .selectedBox .reply {\n    margin: 10px 15px;\n    width: 40%;\n    height: 42px;\n    border: none;\n    font-size: 1.7rem;\n    border-radius: 21px;\n    background: transparent -webkit-gradient(linear, left top, right top, from(#fc901c), to(#f64c01));\n    background: transparent linear-gradient(to right, #fc901c, #f64c01);\n    color: #fff;\n}\n.vux-radio-label {\n  font-size: 1.5rem;\n}\n",""])}});