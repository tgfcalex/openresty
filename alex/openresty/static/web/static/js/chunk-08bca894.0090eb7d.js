(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-08bca894"],{"19f0":function(t,e,i){},"1c66":function(t,e,i){},"2bad":function(t,e,i){"use strict";var a=i("6cb3");i.n(a).a},"404f":function(t,e,i){},4709:function(t,e,i){"use strict";var a=i("9460");i.n(a).a},"6cb3":function(t,e,i){},"81c2":function(t,e,i){},9460:function(t,e,i){},"9a2e":function(t,e,i){"use strict";(function(t){i("8e6e"),i("ac6a"),i("456d");var a=i("bd86"),n=(i("28a5"),i("de40")),s=i("2f62");function r(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,a)}return i}e.a={props:["lastRecent"],data:function(){return{historyData:null,daluMap:[],zhupanMap:[],dayanMap:[],xiaoluMap:[],yeyouMap:[],dayanMapFlag:!1,xiaoluMapFlag:!1,yeyouMapFlag:!1,totalObj:{zhuang:0,xian:0,he:0,total:0},pageSize:48}},created:function(){this.getRecent()},methods:{getRecent:function(){var t=this;60===this.pageSize?this.pageSize=49:this.pageSize+=1,this.$api.get(this.$apiUrl.LOTTO.GET_RECENT_RECORDS,{code:this.playCode,pageSize:this.pageSize},function(e){if(0===e.error){for(var i=e.data,a=0;a<i.length;a++)"bjl"!==t.type&&"cs"!==t.type||0!==i[a].bjlOpenCode.length?""===i[a].openCode&&(i.splice(a,1),a--):(i.splice(a,1),a--);t.historyData=i.reverse(),t.getZXDaluMap(),t.totalObj.total=t.pageSize,t.$emit("getMapTotal",t.totalObj),setTimeout(function(){t.numPosition(),t.scrollRight()},500)}})},getZXDaluMap:function(){var t=this.historyData,e=[],i=[],a=[],n=[],s=[];this.totalObj={zhuang:0,xian:0,he:0,total:0};for(var r=0;r<t.length;r++){var l=[],o=[];"bjl_zhuang"===t[r].bjlOpenCode[0].betNum&&(l=t[r].bjlOpenCode[0].nums.split(",")),"bjl_xian"===t[r].bjlOpenCode[1].betNum&&(o=t[r].bjlOpenCode[1].nums.split(","));for(var c=0,h=0,u=0;u<l.length;u++)c+=parseInt(l[u]);for(var p=0;p<o.length;p++)h+=parseInt(o[p]);var d={betNum:"",zhuangD:!1,xianD:!1,he:0};h%10<c%10?(d.betNum="庄",this.totalObj.zhuang+=1):c%10<h%10?(d.betNum="闲",this.totalObj.xian+=1):c%10==h%10&&(d.betNum="和",this.totalObj.he+=1),parseInt(l[0])===parseInt(l[1])&&(d.zhuangD=!0),parseInt(o[0])===parseInt(o[1])&&(d.xianD=!0),e.push(d),s.length<6?s.push(d):(a.push(s),(s=[]).push(d)),r===t.length-1&&0<s.length&&a.push(s)}for(var f=0;f<e.length;f++)0!==f||"和"!==e[f].betNum?"和"===e[f].betNum&&(e[f-1].he+=1,f===e.length?e.splice(f,1):(e.splice(f,1),f--)):(e.splice(f,1),f--);for(var g=0;g<e.length;g++)0===g?n.push(e[g]):e[g].betNum===e[g-1].betNum?n.push(e[g]):e[g].betNum!==e[g-1].betNum&&(i.push(n),(n=[]).push(e[g])),g===e.length-1&&0<n.length&&i.push(n);var b={betNum:"",he:0,xianD:!1,zhuangD:!1};if(i.length<21)for(var y=0;y<21-i.length;y++){var m=[b];i.push(m),y--}this.daluMap=i;for(var _=JSON.parse(JSON.stringify(a[a.length-1].length)),v=JSON.parse(JSON.stringify(a[a.length-1])),C=0;C<6-_;C++)v.push(b);a[a.length-1]=v,this.zhupanMap=a,this.getOther()},getOther:function(){for(var t=JSON.parse(JSON.stringify(this.daluMap)),e=0;e<t.length;e++){for(var i=0;i<t[e].length;i++)""===t[e][i].betNum&&(t[e].splice(i,1),i--);0===t[e].length&&(t.splice(e,1),e--)}var a=n.a.METHODS.createDY(t),s=n.a.METHODS.createXL(t),r=n.a.METHODS.createYY(t),l={betNum:"",he:0,xianD:!1,zhuangD:!1};if(a.length<19)for(var o=0;o<19-a.length;o++){var c=[l];a.push(c),o--}if(s.length<19)for(var h=0;h<19-s.length;h++){var u=[l];s.push(u),h--}if(r.length<19)for(var p=0;p<19-r.length;p++){var d=[l];r.push(d),p--}this.dayanMap=a,this.xiaoluMap=s,this.yeyouMap=r},scrollRight:function(){this.$refs.zpBox.scrollTo(1e4,0),this.$refs.dlBox.scrollTo(1e4,0)},dyScrollRight:function(){this.dayanMapFlag=!this.dayanMapFlag,this.dayanMapFlag?this.$refs.dyBox.scrollTo(1e4,0):this.$refs.dyBox.scrollTo(0,0)},xlScrollRight:function(){this.xiaoluMapFlag=!this.xiaoluMapFlag,this.xiaoluMapFlag?this.$refs.xlBox.scrollTo(1e4,0):this.$refs.xlBox.scrollTo(0,0)},yyScrollRight:function(){this.yeyouMapFlag=!this.yeyouMapFlag,this.yeyouMapFlag?this.$refs.yyBox.scrollTo(1e4,0):this.$refs.yyBox.scrollTo(0,0)},getNum:function(t,e){var i=5,a=0;if(0===t)i=5;else{for(var n=0;n<t;n++){var s=e[n].length-(i+1);0<(s=s<0?0:s)&&t<=s+n&&(a=a<s+n?s+n:a,i-=1)}a<t&&(i=5)}return i<0&&(i=0),i},numPosition:function(){for(var e=t(".tagEnd"),i=0;i<e.length;i++){var a=t(e[i]).attr("id");e[i].style.left=.12*e[i].getAttribute("value")+"rem",e[i].style.bottom=.08*(5-e[i].getAttribute("tag"))+(0<a?0:.01)+"rem",t(e[i]).offset().left,t(e[i]).parent().parent().innerWidth(),t(e[i]).parent().parent().offset().left}}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?r(i,!0).forEach(function(e){Object(a.a)(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):r(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({},Object(s.b)(["recentFlag","lotteryRecent"]),{playCode:function(){return this.$route.params.playCode},type:function(){var t=this.currentLottery?this.currentLottery.type:this.$route.path.split("/")[1];return t}}),watch:{lastRecent:{handler:function(t,e){t&&e&&t.expect!==e.expect&&this.getRecent()},deep:!0}}}}).call(this,i("1157"))},"9bd6":function(t,e,i){"use strict";i.r(e),i("8e6e"),i("ac6a"),i("456d"),i("28a5");var a=i("bd86"),n=i("77cc"),s=i("f69e"),r=(i("55dd"),i("9a2e").a),l=(i("c77c"),i("2877")),o=Object(l.a)(r,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"bjl_askTheWay_wrap clear"},[i("div",{ref:"zpBox",staticClass:"left_box fl"},[i("ul",{style:{width:.2*t.zhupanMap.length+"rem"}},t._l(t.zhupanMap,function(e,a){return i("li",{key:a,staticClass:"left_col fl"},t._l(e,function(e,a){return i("div",{key:a},[i("span",{class:{"ball-red":"庄"===e.betNum,"ball-blue":"闲"===e.betNum,"ball-green":"和"===e.betNum}},[t._v("\n            "+t._s(e.betNum)+"\n          ")]),e.zhuangD?i("div",{staticClass:"zd_point"}):t._e(),e.xianD?i("div",{staticClass:"xian_point"}):t._e()])}),0)}),0)]),i("div",{staticClass:"right_box fl"},[i("div",{ref:"dlBox",staticClass:"dalu_map fl"},[i("ul",{staticClass:"scrollUl clear",style:{width:.12*t.daluMap.length+"rem"}},t._l(t.daluMap,function(e,a){return i("li",{key:a},[t._l(e,function(e,n){return n<=t.getNum(a,t.daluMap)?i("div",{key:n},[""!==e.betNum?i("span",{class:["map-ball",{"ball-red":"庄"===e.betNum,"ball-blue":"闲"===e.betNum,"ball-green":"和"===e.betNum}]},[0<e.he?i("span",{staticClass:"scaleText"}):t._e(),e.zhuangD?i("span",{staticClass:"zd_point"}):t._e(),e.xianD?i("span",{staticClass:"xian_point"}):t._e()]):t._e()]):t._e()}),t._l(e,function(e,n){return n>t.getNum(a,t.daluMap)?i("div",{key:n,staticClass:"tagEnd posRedBalls",attrs:{tag:t.getNum(a,t.daluMap),value:n-t.getNum(a,t.daluMap),id:a+""+n}},[""!==e.betNum?i("span",{class:["map-ball",{"ball-red":"庄"===e.betNum,"ball-blue":"闲"===e.betNum,"ball-green":"和"===e.betNum}]},[0<e.he?i("span",{staticClass:"scaleText"}):t._e(),e.zhuangD?i("span",{staticClass:"zd_point"}):t._e(),e.xianD?i("span",{staticClass:"xian_point"}):t._e()]):t._e()]):t._e()})],2)}),0)]),i("div",{class:["other_map fl dayan",{mapExpansion:t.dayanMapFlag}],on:{click:t.dyScrollRight}},[i("div",{ref:"dyBox",staticClass:"inner_map fl"},[i("ul",{staticClass:"scrollUl clear",style:{width:.12*t.dayanMap.length+"rem"}},t._l(t.dayanMap,function(e,a){return i("li",{key:a},[t._l(e,function(e,n){return n<=t.getNum(a,t.dayanMap)?i("div",{key:n},[""!==e.betNum?i("span",{class:["map-ball",{"circle-red":"红"===e,"circle-blue":"蓝"===e}]}):t._e()]):t._e()}),t._l(e,function(e,n){return n>t.getNum(a,t.dayanMap)?i("div",{key:n,staticClass:"tagEnd posRedBalls",attrs:{tag:t.getNum(a,t.dayanMap),value:n-t.getNum(a,t.dayanMap)}},[""!==e.betNum?i("span",{class:["map-ball",{"circle-red":"红"===e,"circle-blue":"蓝"===e}]}):t._e()]):t._e()})],2)}),0)]),t._m(0)]),i("div",{class:["other_map xiaolu_map fl",{mapExpansion:t.xiaoluMapFlag}],on:{click:t.xlScrollRight}},[i("div",{ref:"xlBox",staticClass:"inner_map fl"},[i("ul",{staticClass:"scrollUl clear",style:{width:.12*t.xiaoluMap.length+"rem"}},t._l(t.xiaoluMap,function(e,a){return i("li",{key:a},[t._l(e,function(e,n){return n<=t.getNum(a,t.xiaoluMap)?i("div",{key:n},[""!==e.betNum?i("span",{class:["map-ball",{"ball-red":"红"===e,"ball-blue":"蓝"===e}]}):t._e()]):t._e()}),t._l(e,function(e,n){return n>t.getNum(a,t.xiaoluMap)?i("div",{key:n,staticClass:"tagEnd posRedBalls",attrs:{tag:t.getNum(a,t.xiaoluMap),value:n-t.getNum(a,t.xiaoluMap)}},[""!==e.betNum?i("span",{class:["map-ball",{"ball-red":"红"===e,"ball-blue":"蓝"===e}]}):t._e()]):t._e()})],2)}),0)]),t._m(1)]),i("div",{class:["other_map yeyou fl",{mapExpansion:t.yeyouMapFlag}],on:{click:t.yyScrollRight}},[i("div",{ref:"yyBox",staticClass:"inner_map fl"},[i("ul",{staticClass:"scrollUl clear",style:{width:.12*t.yeyouMap.length+"rem"}},t._l(t.yeyouMap,function(e,a){return i("li",{key:a},[t._l(e,function(e,n){return n<=t.getNum(a,t.yeyouMap)?i("div",{key:n},[""!==e.betNum?i("span",{class:["map-ball",{"line-red":"红"===e,"line-blue":"蓝"===e}]}):t._e()]):t._e()}),t._l(e,function(e,n){return n>t.getNum(a,t.yeyouMap)?i("div",{key:n,staticClass:"tagEnd posRedBalls",attrs:{tag:t.getNum(a,t.yeyouMap),value:n-t.getNum(a,t.yeyouMap)}},[""!==e.betNum?i("span",{class:["map-ball",{"line-red":"红"===e,"line-blue":"蓝"===e}]}):t._e()]):t._e()})],2)}),0)]),t._m(2)])])])},[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"expansion fl"},[e("div"),e("div"),e("span",{staticClass:"expansion_btn"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"expansion fl"},[e("div"),e("div"),e("span",{staticClass:"expansion_btn"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"expansion fl"},[e("div"),e("div"),e("span",{staticClass:"expansion_btn"})])}],!1,null,"53869f63",null).exports,c=i("2f62");function h(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,a)}return i}var u={data:function(){return{modelActive:1,bjlData:[],bjlData2:null}},methods:{changeActive:function(t){this.modelActive=t,this.$refs.boxMain.scrollTop=0}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?h(i,!0).forEach(function(e){Object(a.a)(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):h(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({},Object(c.b)(["popupHeight","currentLottery","gameDescData","gameDescFlag"])),watch:{gameDescFlag:{handler:function(t){t&&(this.bjlData=this.gameDescData.bjl.slice(0,4),this.bjlData2=this.gameDescData.bjl[this.gameDescData.bjl.length-1])},deep:!0,immediate:!0}}},p=(i("2bad"),Object(l.a)(u,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"popup-wrapper popup-mask",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.$parent.gameRuleFlag=!1}}},[i("div",{staticClass:"content-box",style:{height:t.popupHeight+"rem"}},[i("div",{staticClass:"box-header"},[i("div",{staticClass:"box-header-titleName"},[t._v(t._s(t.currentLottery.lotteryName))]),i("p",{staticClass:"iconfont icon-quxiao btn-close",on:{click:function(e){t.$parent.gameRuleFlag=!1}}})]),i("div",{staticClass:"box-nav"},[i("div",{class:["inner-nav fl",{modelActive:1===t.modelActive}],on:{click:function(e){return t.changeActive(1)}}},[t._v("玩法说明")]),i("div",{class:["inner-nav fl",{modelActive:2===t.modelActive}],on:{click:function(e){return t.changeActive(2)}}},[t._v("补牌规则")])]),i("div",{ref:"boxMain",staticClass:"box-main clear",style:{height:t.popupHeight-.44-.42+"rem"}},[1===t.modelActive?i("div",{staticClass:"box_inner"},t._l(t.bjlData,function(e,a){return i("div",{key:a,staticClass:"box-main-other"},[i("p",{staticClass:"theme-font-color"},[t._v(t._s(e.nav))]),t._l(e.content,function(e,a){return i("div",{key:a},[e.code&&e.code===t.currentLottery.code?i("p",{staticClass:"paddingLeft",domProps:{innerHTML:t._s(e.text)}}):t._e(),e.code?t._e():i("p",{staticClass:"paddingLeft",domProps:{innerHTML:t._s(e.text)}})])})],2)}),0):t._e(),2===t.modelActive?i("div",{staticClass:"box_inner"},[i("p",{domProps:{innerHTML:t._s(t.bjlData2.one)}}),i("table",{staticClass:"xian_tab",attrs:{border:"1",cellspacing:"0",cellpadding:"0",bordercolor:"#ddd"}},[i("thead",[i("tr",[i("th",[t._v(t._s(t.bjlData2.two[0]))]),i("th",[t._v(t._s(t.bjlData2.two[1]))])])]),i("tbody",t._l(t.bjlData2.three,function(e,a){return i("tr",{key:a},[i("td",[t._v(t._s(a))]),i("td",[t._v(t._s(e))])])}),0)]),i("br"),i("p",{domProps:{innerHTML:t._s(t.bjlData2.six)}}),i("table",{staticClass:"xian_tab",attrs:{border:"1",cellspacing:"0",cellpadding:"0",bordercolor:"#ddd"}},[i("thead",[i("tr",[i("th",[t._v(t._s(t.bjlData2.two[0]))]),i("th",[t._v(t._s(t.bjlData2.two[1]))])])]),i("tbody",t._l(t.bjlData2.four,function(e,a){return i("tr",{key:a},[i("td",[t._v(t._s(a))]),i("td",[t._v(t._s(e))])])}),0)]),i("br"),i("p",{domProps:{innerHTML:t._s(t.bjlData2.five)}})]):t._e()])])])},[],!1,null,"97a10180",null).exports),d=i("5118");function f(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,a)}return i}var g={props:["lotteryData","bjlData","contentHei","lastRecent"],components:{askTheWay:o,bjlRule:p},data:function(){return{expect:"",viewData:[],chipArr:["10","50","100","500","1000","5000","10000"],chipIndex:0,flicker:[!1,!1,!1,!1,!1,!1,!1],flickerArr:[!1,!1,!1,!1,!1,!1,!1],gameRuleFlag:!1,thirdPoker:!1,zhuangPoker:!1,newLastRecent:null,recentShow:!1,pokerColor:[],openFlag:!1,mapTotal:{zhuang:0,xian:0,he:0},bettingFlag:!1,resetShowFlag:!1,firstEnterView:!0,jsBjlFPStatus:"",jsBjlProfitMoney:0,timerP:null,matchId:null,pendingCount:0,playerChip:[{chip:[],sum:0},{chip:[],sum:0},{chip:[],sum:0},{chip:[],sum:0},{chip:[],sum:0},{chip:[],sum:0},{chip:[],sum:0}]}},created:function(){this.init(),this.getNumAndPlayer(),this.getMatchId()},beforeDestroy:function(){Object(d.clearTimeout)(this.timerP)},methods:{getMatchId:function(){var t=this;"csbjl"===this.$route.params.playCode&&(sessionStorage.matchId?this.matchId=sessionStorage.matchId:this.$api.get(this.$apiUrl.MATCH.GET_MATCH,null,function(e){0===e.error&&(t.matchId=e.data.id)}))},getNumAndPlayer:function(){var t=this,e=parseInt(10*Math.random())+1;5<e&&(e-=5),this.timerP=Object(d.setTimeout)(function(){t.getOnlinePlayer(),Object(d.clearTimeout)(t.timerP),t.getNumAndPlayer()},1e3*e)},getBeforeProfit:function(){var t=this;if(sessionStorage.token){var e="",i={};i["search.code"]=this.playCode,i["search.expect"]=this.expect-1,e="csbjl"!==this.playCode?this.$apiUrl.BET.DET_BJL_ORDER:(i["search.matchId"]=this.matchId,this.$apiUrl.BET.DET_CS_BJL_ORDER),this.$api.get(e,i,function(e){0===e.error&&("pending"!==e.data.status?(t.jsBjlFPStatus=e.data.status,t.jsBjlProfitMoney=e.data.profit,t.pendingCount=0,Object(d.setTimeout)(function(){t.resetChip()},3e3)):1===t.pendingCount?(t.pendingCount=0,t.resetChip()):(Object(d.setTimeout)(function(){t.getBeforeProfit()},1e3),t.pendingCount=1))})}else Object(d.setTimeout)(function(){t.resetChip()},3e3)},init:function(){var t=this,e=JSON.parse(JSON.stringify(this.lotteryData)),i=[];for(var a in e){var n=this.selectKey(a);e[a].id=n[1],e[a].key=n[0],i.push(e[a])}i.sort(function(e,i){return t.$global.finishingA(e,i)}),this.viewData=i},getBettingChip:function(){var t=this;if(this.firstEnterView&&sessionStorage.token){this.firstEnterView=!1;var e=this.bjlData.expect;"jsbjl"!==this.playCode&&"csbjl"!==this.playCode||"fp"!==this.bjlData.lotteryStatus||(e-=1);var i=this.$apiUrl.LOTTO.GET_BETNUM_TOTALAMOUNT;"csbjl"===this.playCode&&(i=this.$apiUrl.MATCH.GET_BETNUM_TOTALAMOUNT),this.$api.get(i,{code:this.playCode,expect:e},function(e){if(0===e.error){if(e.data.length<1)return;for(var i=e.data,a=0;a<i.length;a++){var n=t.selectApiKey(i[a].betnum);t.clickAddChip(n,"old",i[a].betamount)}}})}},getOnlinePlayer:function(){var t=this,e=this.$apiUrl.LOTTO.GET_BETNUM_BY_CODE;"csbjl"===this.playCode&&(e=this.$apiUrl.MATCH.GET_BETNUM_BY_CODE),this.$api.get(e,{code:this.playCode,expect:this.expect},function(e){if(0===e.error&&0<e.data.length){var i={code:t.playCode,betOrders:e.data};t.$store.dispatch("setBjlTotal",i)}})},changeChip:function(t){this.chipIndex!==t&&(this.chipIndex=t)},clickLottery:function(t,e){this.openFlag||this.$set(this.flickerArr,t,e)},clickAddChip:function(t,e,i){if(!this.openFlag||e){for(var a=e||"new",n=i||this.chipArr[this.chipIndex],s=0,r=[],l=0;l<this.playerChip[t].chip.length;l++)"old"===this.playerChip[t].chip[l].new&&(s+=this.playerChip[t].chip[l].money,r.push(this.playerChip[t].chip[l]));this.playerChip[t].sum+=parseInt(n);for(var o=this.breakDownMoney(this.playerChip[t].sum-s),c=[],h=0;h<o.length;h++){var u={money:parseInt(o[h]),new:a};c.push(u)}this.playerChip[t].chip=r.concat(c)}},bettingLottery:function(){var t=this;if(this.userInfo){if(!this.bettingFlag){for(var e=[0,0,0,0,0,0,0],i=[],a=!1,n=0;n<this.playerChip.length;n++)for(var s=0;s<this.playerChip[n].chip.length;s++)"new"===this.playerChip[n].chip[s].new&&(e[n]+=parseInt(this.playerChip[n].chip[s].money));for(var r=0;r<e.length;r++)if(0<e[r]){a=!0;var l={betNum:this.viewData[r].betNum,betCode:this.viewData[r].betCode,playCode:this.viewData[r].playCode,odd:this.viewData[r].odd,betAmount:e[r]};i.push(l)}a?(this.bettingFlag=!0,this.$emit("selectLottery",i),this.$nextTick(function(){t.$parent.$refs.betting.followBetting()})):this.toast("请选择投注号码")}}else this.toast("您还未登录，请先登录")},setLastRecent:function(t){for(var e=this,i={},a=0;a<t.length;a++){var n=t[a].nums;i[t[a].betNum]={},i[t[a].betNum].nums=n.split(",")}for(var s in i){for(var r=0,l=0;l<i[s].nums.length;l++)r+=parseInt(i[s].nums[l]);i[s].he=r%10}i.bjl_zhuang.he>i.bjl_xian.he?(i.bjl_zhuang.win="win",i.bjl_xian.win="lose",this.$set(this.flicker,6,!0)):i.bjl_zhuang.he<i.bjl_xian.he?(i.bjl_zhuang.win="lose",i.bjl_xian.win="win",this.$set(this.flicker,4,!0)):(i.bjl_zhuang.win="he",i.bjl_xian.win="he",this.$set(this.flicker,5,!0)),4<i.bjl_zhuang.nums.length+i.bjl_xian.nums.length?this.$set(this.flicker,0,!0):this.$set(this.flicker,3,!0),i.bjl_zhuang.nums[0]===i.bjl_zhuang.nums[1]&&this.$set(this.flicker,2,!0),i.bjl_xian.nums[0]===i.bjl_xian.nums[1]&&this.$set(this.flicker,1,!0),this.openFlag=!0,this.recentShow=!0,this.newLastRecent=i,this.setPokerColor(this.expect),Object(d.setTimeout)(function(){e.zhuangPoker=!0},1e3),Object(d.setTimeout)(function(){e.thirdPoker=!0},2e3),Object(d.setTimeout)(function(){e.zhuangPoker=!1,e.thirdPoker=!1,e.openFlag=!1,e.recentShow=!1,e.newLastRecent=null;for(var t=0;t<e.flicker.length;t++)e.$set(e.flicker,t,!1)},5e3)},getMapTotal:function(t){this.mapTotal=t},judgeShowReset:function(){for(var t=0;t<this.playerChip.length;t++)for(var e=0;e<this.playerChip[t].chip.length;e++)if("new"===this.playerChip[t].chip[e].new)return void(this.resetShowFlag=!0);this.resetShowFlag=!1},resetNewChip:function(){for(var t=0;t<this.playerChip.length;t++)for(var e=0;e<this.playerChip[t].chip.length;e++)"new"===this.playerChip[t].chip[e].new&&(this.playerChip[t].sum-=parseInt(this.playerChip[t].chip[e].money),this.playerChip[t].chip.splice(e,1),e--)},reset:function(){for(var t=0;t<this.playerChip.length;t++)for(var e=0;e<this.playerChip[t].chip.length;e++)"new"===this.playerChip[t].chip[e].new&&(this.playerChip[t].chip[e].new="old");this.bettingFlag=!1},resetChip:function(){this.jsBjlFPStatus="";for(var t=this.jsBjlProfitMoney=0;t<this.playerChip.length;t++)this.$set(this.playerChip[t],"chip",[]),this.$set(this.playerChip[t],"sum",0);this.$emit("selectLottery",[]),this.$store.dispatch("resetBjlTotal",this.playCode)},selectKey:function(t){switch(t){case"bjl_zhuang_xian_dui:bjl_xian_dui":return["xd",1];case"bjl_pai_shu:bjl_da":return["da",0];case"bjl_pai_shu:bjl_xiao":return["xiao",3];case"bjl_zhuang_xian_dui:bjl_zhuang_dui":return["zd",2];case"bjl_zhuang_xian:bjl_xian":return["xian",4];case"bjl_zhuang_xian:bjl_he":return["he",5];case"bjl_zhuang_xian:bjl_zhuang":return["zhuang",6]}},selectName:function(t){switch(t){case"xd":return"闲对";case"da":return"大";case"xiao":return"小";case"zd":return"庄对";case"xian":return"闲";case"he":return"和";case"zhuang":return"庄"}},selectApiKey:function(t){switch(t){case"bjl_xian_dui":return 1;case"bjl_da":return 0;case"bjl_xiao":return 3;case"bjl_zhuang_dui":return 2;case"bjl_xian":return 4;case"bjl_he":return 5;case"bjl_zhuang":return 6}},breakDownMoney:function(t){for(var e=JSON.parse(JSON.stringify(t)),i=[];1e4<=e&&(e-=1e4,i.push("10000")),5e3<=e&&e<1e4&&(e-=5e3,i.push("5000")),1e3<=e&&e<5e3&&(e-=1e3,i.push("1000")),500<=e&&e<1e3&&(e-=500,i.push("500")),100<=e&&e<500&&(e-=100,i.push("100")),50<=e&&e<100&&(e-=50,i.push("50")),10<=e&&e<50&&(e-=10,i.push("10")),!(e<10););return i},setPokerColor:function(t){var e=localStorage.pokerColorBjl?JSON.parse(localStorage.pokerColorBjl):null;if(e&&e.expect===t)this.pokerColor=e.colorArr;else{var i=[1,2,3,4,1,3],a=i.slice(0,4),n=this.getNum(4,4),s={expect:t,colorArr:[]};if(4===i.length)return s.colorArr=n,this.pokerColor=s.colorArr,void(localStorage.pokerColorBjl=JSON.stringify(s));for(var r=0;r<i.length-4;r++)if(a.indexOf(i[r+4])<0)n.push(Math.floor(4*Math.random()));else for(var l=0;l<n.length;l++)if(i[r+4]!==i[l]){n.push(n[l]);break}s.colorArr=n,this.pokerColor=s.colorArr,localStorage.pokerColorBjl=JSON.stringify(s)}},getNum:function(t,e){for(var i=[],a=0;a<t;a++){var n=Math.floor(Math.random()*e);-1===i.indexOf(n)?i.push(n):a--}return i}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?f(i,!0).forEach(function(e){Object(a.a)(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):f(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({},Object(c.b)(["popupHeight","currentLottery","userInfo","bjlWebsocketTotal","windowHeight"]),{playCode:function(){return this.$route.params.playCode},bjlCloseMessageTop:function(){return(this.contentHei-1.1-.81)/2-.18+.86}}),watch:{bjlData:{handler:function(t){t&&(this.expect=t.expect,"jsbjl"!==this.playCode&&"csbjl"!==this.playCode||!t||("fp"===t.lotteryStatus?(this.jsBjlFPStatus="fp",this.resetNewChip(),Object(d.clearTimeout)(this.timerP)):"normal"===t.lotteryStatus&&this.getNumAndPlayer()),"jsbjl"!==this.playCode&&"csbjl"!==this.playCode&&t&&(this.resetChip(),this.getOnlinePlayer()),this.getBettingChip())},deep:!0,immediate:!0},lastRecent:{handler:function(t,e){var i=this,a=e?e.expect:0;if(t&&t.expect!==a&&0!==a){var n=this.lastRecent.openCodeMemo?this.lastRecent.openCodeMemo:this.lastRecent.bjlOpenCode;"string"==typeof n&&(n=JSON.parse(n)),"jsbjl"!==this.playCode&&"csbjl"!==this.playCode||(sessionStorage.token&&(this.jsBjlFPStatus="pending"),Object(d.setTimeout)(function(){i.getBeforeProfit()},2e3)),this.setLastRecent(n)}},deep:!0,immediate:!0},playerChip:{handler:function(t){this.judgeShowReset()},deep:!0,immediate:!0}}},b=(i("4709"),Object(l.a)(g,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"children_view_wrap bjl_wrap"},[i("div",{staticClass:"betting_box",style:{height:t.contentHei-1.1-.81+"rem"}},[i("ul",{staticClass:"box_wrap clear"},t._l(t.viewData,function(e,a){return i("li",{key:a,class:[e.key+"_box",{flickerBg:t.flickerArr[a],flickerInfinite:t.flicker[a]&&t.thirdPoker}]},[i("div",{staticClass:"box_img"},[i("span",[t._v(t._s(t.selectName(e.key)))])]),i("div",{staticClass:"box_odd"},[t._v(t._s("1 : "+e.odd))]),i("div",{staticClass:"box_people"},[t._v(t._s(t.bjlWebsocketTotal[t.playCode][a].totalMoney)+" / "+t._s(t.bjlWebsocketTotal[t.playCode][a].num))]),0<t.playerChip[a].sum?i("div",{staticClass:"box_total"},[i("span",[t._v(t._s(t.playerChip[a].sum))])]):t._e(),i("div",{staticClass:"box_chip"},[i("div",{staticClass:"chip_wrap"},t._l(t.playerChip[a].chip,function(e,a){return i("div",{key:a,staticClass:"chip_img_wrap",style:{bottom:.03*a+"rem"}},[i("img",{attrs:{src:t.$publicPath+"images/bjlChip/"+e.money+".png"}})])}),0)]),i("div",{staticClass:"box_click",on:{touchstart:function(e){return t.clickLottery(a,!0)},touchend:function(e){return t.clickLottery(a,!1)},click:function(e){return t.clickAddChip(a)}}})])}),0)]),i("div",{staticClass:"chip_box"},[i("div",{staticClass:"img_box"},t._l(t.chipArr,function(e,a){return i("div",{key:a,class:["img_wrap",{chipActive:a===t.chipIndex}],on:{click:function(e){return t.changeChip(a)}}},[i("img",{attrs:{src:t.$publicPath+"images/bjlChip/"+e+".png"}})])}),0),i("div",{staticClass:"btn_wrap"},[i("div",{staticClass:"askTheWay_total fl"},[t._m(0),i("div",{staticClass:"total_bottom"},[i("div",[t._v(t._s(t.mapTotal.xian))]),i("div",[t._v(t._s(t.mapTotal.zhuang))]),i("div",[t._v(t._s(t.mapTotal.he))]),i("div",[t._v(t._s(t.mapTotal.total))])])]),i("div",{staticClass:"brand_rule fl",on:{click:function(e){t.gameRuleFlag=!0}}},[i("span",[t._v("玩法规则")])]),i("div",{staticClass:"betting_btn fr"},[t.resetShowFlag?i("div",{staticClass:"fl",on:{click:t.resetNewChip}},[t._v("取消")]):t._e(),t.resetShowFlag?i("div",{staticClass:"betting_inner betting fl",on:{click:t.bettingLottery}},[i("span",[t._v("确认")]),i("i",{directives:[{name:"show",rawName:"v-show",value:t.bettingFlag,expression:"bettingFlag"}],staticClass:"iconfont icon-jiazai"})]):t._e()])]),i("div",{class:["lottery_info clear",{ani_open:t.recentShow}]},[t.recentShow?i("div",{staticClass:"lottery_xian_wrap fl"},[i("div",{staticClass:"lottery_xian fl"},[t._l(t.newLastRecent.bjl_xian.nums,function(e,a){return i("div",{key:a,staticClass:"fr img_wrap"},[2!==a?i("img",{staticClass:"poker",attrs:{src:t.$publicPath+"images/poker/"+(0===parseInt(e)?12:parseInt(e))+t.pokerColor[a]+".png"}}):2===a&&t.thirdPoker?i("img",{staticClass:"poker",attrs:{src:t.$publicPath+"images/poker/"+(0===parseInt(e)?12:parseInt(e))+t.pokerColor[a]+".png"}}):t._e()])}),i("div",{staticClass:"lottery_num_xian"},[t._v("闲   "+t._s(t.thirdPoker?t.newLastRecent.bjl_xian.he:0))]),"win"===t.newLastRecent.bjl_xian.win&&t.thirdPoker?i("div",{staticClass:"lottery_win_xian win_btn"},[t._v("闲赢")]):t._e()],2)]):t._e(),t.recentShow&&"he"===t.newLastRecent.bjl_zhuang.win&&"he"===t.newLastRecent.bjl_xian.win&&t.thirdPoker?i("div",{staticClass:"lottery_he_wrap fl"},[t._v("和")]):t._e(),t.recentShow?i("div",{staticClass:"lottery_zhuang_wrap fl"},[i("div",{staticClass:"lottery_zhuang fl"},[t._l(t.newLastRecent.bjl_zhuang.nums,function(e,a){return i("div",{key:a,staticClass:"fl img_wrap"},[2!==a&&t.zhuangPoker?i("img",{staticClass:"poker",attrs:{src:t.$publicPath+"images/poker/"+(0===parseInt(e)?12:parseInt(e))+t.pokerColor[a+t.newLastRecent.bjl_xian.nums.length]+".png"}}):2===a&&t.thirdPoker&&t.zhuangPoker?i("img",{staticClass:"poker",attrs:{src:t.$publicPath+"images/poker/"+(0===parseInt(e)?12:parseInt(e))+t.pokerColor[a+t.newLastRecent.bjl_xian.nums.length]+".png"}}):t._e()])}),i("div",{staticClass:"lottery_num_zhuang"},[t._v(t._s(t.thirdPoker?t.newLastRecent.bjl_zhuang.he:0)+"   庄")]),"win"===t.newLastRecent.bjl_zhuang.win&&t.thirdPoker?i("div",{staticClass:"lottery_win_zhuang win_btn"},[t._v("庄赢")]):t._e()],2)]):t._e()])]),""!==t.expect?i("div",{staticClass:"askTheWay_box"},[i("ask-the-way",{ref:"askTheWayBox",attrs:{expect:t.expect,lastRecent:t.lastRecent},on:{getMapTotal:t.getMapTotal}})],1):t._e(),t.gameRuleFlag?i("bjlRule"):t._e(),"jsbjl"!==t.playCode&&"csbjl"!==t.playCode||""===t.jsBjlFPStatus?t._e():i("div",{staticClass:"close_lottery_bjl",style:{height:t.windowHeight-.44+"rem"}},[i("div",{class:["close_lottery_bjl_inner",{inner_stop:"fp"===t.jsBjlFPStatus,inner_win:"win"===t.jsBjlFPStatus,inner_lose:"loss"===t.jsBjlFPStatus,inner_inex:"inexistence"===t.jsBjlFPStatus,inner_pending:"pending"===t.jsBjlFPStatus}],style:{top:t.bjlCloseMessageTop+"rem"}},["fp"===t.jsBjlFPStatus?i("div",[t._v("停止下注")]):"inexistence"===t.jsBjlFPStatus?i("div",[t._v("您未投注")]):"pending"===t.jsBjlFPStatus?i("div",[t._v("结算中请稍后")]):"win"===t.jsBjlFPStatus?i("div",[t._v("您赢了"),i("span",{staticClass:"money"},[t._v(t._s(t._f("money")(t.jsBjlProfitMoney)))])]):"loss"===t.jsBjlFPStatus?i("div",[t._v("您输了"),i("span",{staticClass:"money"},[t._v(t._s(t._f("money")(t.jsBjlProfitMoney)))])]):t._e()])])],1)},[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"total_top"},[i("div",[t._v("闲")]),i("div",[t._v("庄")]),i("div",[t._v("和")]),i("div",[t._v("总数")])])}],!1,null,"7c055d50",null).exports);function y(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,a)}return i}var m={components:{lotteryHeader:n.a,bjl:b,traditionBetting:s.a},data:function(){return{lotteryData:null,expect:"",contentHei:"3.5",selectNumList:[],lastRecent:null,bjlData:null}},created:function(){this.$store.dispatch("changeKeyboardStatus",!1),this.getAllOdd()},mounted:function(){var t=this;this.$nextTick(function(){t.reSetContentHeight()})},methods:{reSetContentHeight:function(){var t=document.documentElement.offsetHeight,e=document.getElementById("view_header").offsetHeight,i=0;i=document.getElementById("lottery_header")?document.getElementById("lottery_header").offsetHeight:86,document.getElementById("lottery_content").style.height=t-e-i+"px"},getAllOdd:function(){var t=this;if(this.lotteryOdd[this.playCode])return this.lotteryData=null,this.lotteryData=this.lotteryOdd[this.playCode],void this.$store.dispatch("setRouterLoading",!1);this.$api.get(this.$apiUrl.LOTTO.GET_ODD,{code:this.playCode,model:"tradition"},function(e){if(0===e.error){t.$store.dispatch("setRouterLoading",!1),t.lotteryData=e.data[0];var i={playCode:t.playCode,odd:e.data[0]};t.$store.dispatch("setLotteryOdd",i)}else t.lotteryData=null,t.toast("赔率获取失败")})},bjlExpectData:function(t){this.expect=t.expect,this.bjlData=t},recentCloseExpect:function(t){this.lastRecent=t},heightCalculation:function(t){var e=window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,i=window.innerHeight||document.documentElement.clientHeight||document.body.clientHeight;this.contentHei=414<=e&&e<600?i/100-.44-.86:600<=e?i/140-.62-.7:this.windowHeight-.44-.86},selectLottery:function(t){this.selectNumList=t},reset:function(t){this.$refs.childrenView.reset(t)},clearChildViewNotBettingChip:function(){this.$refs.childrenView&&this.$refs.childrenView.resetNewChip()},clearChildView:function(){this.$refs.childrenView&&this.$refs.childrenView.resetChip()}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?y(i,!0).forEach(function(e){Object(a.a)(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):y(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({},Object(c.b)(["lotteryOdd","windowHeight","lotteryRecent","currentLottery","apiStatus"]),{playCode:function(){return this.$route.params.playCode},type:function(){var t=this.currentLottery?this.currentLottery.type:this.$route.path.split("/")[1];return t}}),watch:{windowHeight:{handler:function(t){this.heightCalculation()},deep:!0,immediate:!0},type:function(t){window.location.reload()}}},_=(i("ab033"),i("a3b7"),Object(l.a)(m,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"lottery_wrap"},[i("lottery-header",{ref:"lotteryHeader",on:{bjlExpectData:t.bjlExpectData,recentCloseExpect:t.recentCloseExpect}}),i("div",{ref:"lotteryContent",staticClass:"lottery_content_bjl",attrs:{id:"lottery_content"}},[t.lotteryData?i("bjl",{ref:"childrenView",attrs:{lotteryData:t.lotteryData,bjlData:t.bjlData,contentHei:t.contentHei,lastRecent:t.lastRecent},on:{selectLottery:t.selectLottery}}):t._e()],1),i("tradition-betting",{ref:"betting",attrs:{selectNumList:t.selectNumList,expect:t.expect}})],1)},[],!1,null,"6b0e029c",null));e.default=_.exports},a3b7:function(t,e,i){"use strict";var a=i("81c2");i.n(a).a},ab033:function(t,e,i){"use strict";var a=i("19f0");i.n(a).a},c77c:function(t,e,i){"use strict";var a=i("1c66");i.n(a).a},f69e:function(t,e,i){"use strict";i("8e6e"),i("ac6a"),i("456d"),i("28a5");var a=i("bd86"),n=(i("55dd"),i("d608")),s=i("2f62"),r=i("5118");function l(t,e){var i=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);e&&(a=a.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),i.push.apply(i,a)}return i}var o={props:["selectNumList","expect"],components:{bettingPopup:n.a,tip:function(){return i.e("chunk-850a509a").then(i.bind(null,"5e25"))}},data:function(){return{keyList:["c",0,"ok"],keyNum:"",money:0,betOrders:[],bettingPopupFlag:!1,successTitle:"",successFlag:!1,bettingFlg:!1,userInfoFlag:!1,chipSetting:!1,defaultChip:[10,100,1e3],selectChip:[10,100,1e3],allChip:[10,50,100,500,1e3,5e3,1e4,5e4],selectTag:!1,hasKeyboardTag:!1}},created:function(){localStorage.defaultChip&&(this.defaultChip=JSON.parse(localStorage.defaultChip),this.selectChip=JSON.parse(localStorage.defaultChip))},methods:{judgeColor:function(t){return-1<this.selectChip.indexOf(t)?t:t+"-g"},changeDefaultChip:function(t){var e=JSON.parse(JSON.stringify(this.selectChip));this.selectChip.indexOf(t)<0&&(e.push(t),e.splice(0,1),this.selectChip=e)},closeChipSetting:function(){this.chipSetting=!1,this.selectChip=this.defaultChip},confirmChipSetting:function(){this.chipSetting=!1,this.defaultChip=this.selectChip.sort(function(t,e){return t-e}),localStorage.defaultChip=JSON.stringify(this.defaultChip)},addChipMoney:function(t){var e=0<this.money?this.money:0;this.money=parseInt(e)+parseInt(t)},refreshBalance:function(){var t=this;this.userInfoFlag=!0,this.$api.get(this.$apiUrl.ACCOUNT.GET_BALANCE,null,function(e){if(0===e.error){var i=t.userInfo;i.balance=e.data,t.$store.dispatch("setUserInfo",i)}Object(r.setTimeout)(function(){t.userInfoFlag=!1},1e3)})},changeKeyboardStatus:function(){this.$store.dispatch("changeKeyboardStatus",!0),this.hasKeyboardTag=!0},keyDown:function(t){if(0!==parseInt(t)||""!==this.money)if(isNaN(t))if("c"===t){var e=String(this.money);this.money=e.substring(0,e.length-1)}else"ok"===t&&(this.$store.dispatch("changeKeyboardStatus",!1),this.hasKeyboardTag=!1);else this.money=parseInt(String(this.money)+t);else this.money=""},reset:function(t){this.$store.dispatch("changeKeyboardStatus",!1),this.hasKeyboardTag=!1,this.money="",this.$parent.reset(t)},betting:function(){var t=this;this.userInfo?this.bettingFlg?this.toast("正在投注中哦~"):0!==this.money&&""!==this.money?0!==this.selectNumList.length?this.money*this.listLength>this.userInfo.balance?this.toast("余额不足"):(this.bettingFlg=!0,Object(r.setTimeout)(function(){var e=JSON.parse(JSON.stringify(t.selectNumList)),i=[];if("nn"===t.type)for(var a="nn_level"===e[0].playCode?2:6,n=0;n<e.length;n++){var s={betNum:e[n].betNum,betCode:e[n].betCode,playCode:e[n].playCode,betAmount:t.money,odd:a};"nn_multiple"===e[0].playCode&&(s.freezAmount=4*t.money),i.push(s)}else for(var r=0;r<e.length;r++)i.push({betNum:e[r].betNum,betCode:e[r].betCode,playCode:e[r].playCode,betAmount:t.money,odd:e[r].odd});t.betOrders=i,t.bettingPopupFlag=!0,t.$store.dispatch("changeKeyboardStatus",!1),t.hasKeyboardTag=!1},300)):this.toast("请选择投注号码"):this.toast("请输入金额"):this.toast("您还未登录，请先登录")},followBetting:function(){var t=this;if(this.userInfo)if(this.money*this.listLength>this.userInfo.balance)this.toast("余额不足");else{var e=JSON.parse(JSON.stringify(this.selectNumList)),i=[];if("nn"===this.type)for(var a="nn_level"===e[0].playCode?2:6,n=0;n<e.length;n++){var s={betNum:e[n].betNum,betCode:e[n].betCode,playCode:e[n].playCode,betAmount:e[n].betAmount,odd:a};"nn_multiple"===e[0].playCode&&(s.freezAmount=4*this.money),i.push(s)}else for(var r=0;r<e.length;r++)i.push({betNum:e[r].betNum,betCode:e[r].betCode,playCode:e[r].playCode,betAmount:e[r].betAmount,odd:e[r].odd});this.betOrders=i,this.bettingPopupFlag=!0,this.$store.dispatch("changeKeyboardStatus",!1),this.hasKeyboardTag=!1,this.$nextTick(function(){t.$refs.bettingPopup.saveBetOrders()})}else this.toast("您还未登录，请先登录")},saveOrders:function(t){var e=this;this.$api.post(this.$apiUrl.LOTTO.SAVE_BET_ORDER,t,function(i){if(0===i.error){if(sessionStorage.fctoken=i.extend,"cs"===e.type){var a=e.userInfo;a.csBalance=i.data.balance,e.$store.dispatch("setUserInfo",a)}else e.$store.dispatch("changeUserInfoBalance",i.data.balance);e.successTitle="",e.reset(t),e.addRecentLottery(t)}else e.getFctoken(),e.successTitle=i.message,"bjl"!==e.type&&"cs"!==e.type||(e.$parent.clearChildViewNotBettingChip(),e.$parent.$refs.childrenView&&(e.$parent.$refs.childrenView.bettingFlag=!1));e.bettingFlg=!1,e.successFlag=!0,e.bettingPopupFlag=!1,Object(r.setTimeout)(function(){e.successFlag=!1,e.successTitle=""},1500)},function(i){e.getFctoken(function(){e.bettingFlg=!1,500==i.code&&(e.successTitle="投注失败，错误码：500，请联系管理员",e.successFlag=!0),"bjl"!==e.type&&"cs"!==e.type||e.reset(t)})})},getFctoken:function(t){var e=0<arguments.length&&void 0!==t?t:function(){};this.$api.get(this.$apiUrl.LOTTO.GET_LT_TOKEN,null,function(t){sessionStorage.fctoken=t.data,e()})},addRecentLottery:function(t){var e=localStorage.recentLottery,i={code:this.playCode,type:this.type,lotteryName:this.lotteryName,newModel:"tradition",firstTitle:this.$parent.modelActive,secondTitle:this.$parent.childrenModelActive,thirdTitle:""};if(e){for(var a=JSON.parse(localStorage.recentLottery),n=0;n<a.length;n++)if(a[n].code===this.playCode)return a[n]=i,void(localStorage.recentLottery=JSON.stringify(a));1===a.length?localStorage.recentLottery=JSON.stringify([i,a[0]]):localStorage.recentLottery=JSON.stringify([i,a[0],a[1]])}else localStorage.recentLottery=JSON.stringify([i])}},computed:function(t){for(var e=1;e<arguments.length;e++){var i=null!=arguments[e]?arguments[e]:{};e%2?l(i,!0).forEach(function(e){Object(a.a)(t,e,i[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(i)):l(i).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(i,e))})}return t}({},Object(s.b)(["userInfo","keyboardStatus","bettingStatus","currentLottery","nnMultiple"]),{listLength:function(){return this.selectNumList.length?this.selectNumList.length:0},type:function(){var t=this.currentLottery?this.currentLottery.type:this.$route.path.split("/")[1];return t},playCode:function(){return this.$route.params.playCode},lotteryName:function(){return this.currentLottery.lotteryName},allMoney:function(){var t=this.money*this.listLength;return 2===this.nnMultiple&&"nn"===this.type&&(t*=5),t},bettingHeight:function(){return this.keyboardStatus&&this.bettingStatus?"2.18rem":this.keyboardStatus?"2.18rem":this.bettingStatus?"0.78rem":"0.28"}}),watch:{listLength:{handler:function(t){0<t||this.keyboardStatus?(this.$store.dispatch("changeBettingStatus",!0),this.selectTag=!0,this.keyboardStatus&&0===t&&(this.selectTag=!1,this.hasKeyboardTag=!1)):(this.$store.dispatch("changeBettingStatus",!1),this.selectTag=!1,this.hasKeyboardTag=!1)},deep:!0,immediate:!0},selectTag:function(t){if(document.getElementById("lottery_content")&&!(-1<this.$route.params.playCode.indexOf("bjl"))){var e=document.getElementById("lottery_content");e.style.height=t?e.offsetHeight-document.getElementById("betting_middel").offsetHeight+"px":e.offsetHeight+document.getElementById("betting_middel").offsetHeight+"px"}}}},c=(i("f8c7"),i("2877")),h=Object(c.a)(o,function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{class:["betting_wrap cleaar",{hasSelects:t.selectTag},{hasKeyboard:t.hasKeyboardTag},{addFixed:"bjl"!==t.type&&"cs"!==t.type}]},[i("div",{staticClass:"betting_top clear"},[i("div",{staticClass:"top_left theme-backgound fl",on:{click:function(e){t.chipSetting=!0}}},[t._v("筹码设定")]),i("div",{staticClass:"top_middel fl",style:{width:t.userInfo?"1.43rem":"2.9rem"}},[t._v("\n      共 "),i("span",{staticClass:"theme-font-color"},[t._v(t._s(t.listLength))]),t._v(" 注: "),i("span",{staticClass:"theme-font-color"},[t._v(t._s(t.allMoney))]),t._v(" 元\n    ")]),t.userInfo?i("div",{staticClass:"top_right fl",on:{click:t.refreshBalance}},[i("span",[t._v("余额:")]),i("span",{staticClass:"theme-font-color"},[t._v(t._s(t.userInfo.balance))]),i("span",[t._v("元")]),i("i",{class:["iconfont",t.userInfoFlag?"icon-jiazai":"icon-shuaxin"]})]):t._e()]),i("div",{staticClass:"betting_middel clear",attrs:{id:"betting_middel"}},[i("div",{staticClass:"middel_left fl"},t._l(t.defaultChip,function(e,a){return i("div",{key:a,staticClass:"img_wrap fl",on:{click:function(i){return t.addChipMoney(e)}}},[i("img",{attrs:{src:t.$publicPath+"images/bjlChip/"+e+".png"}})])}),0),i("div",{staticClass:"middel_middel fl"},[i("div",{staticClass:"middel_input",style:{color:""===t.money||0===t.money?"#C1C1C1":"#000"},on:{click:t.changeKeyboardStatus}},[t._v("\n        "+t._s(""===t.money||0===t.money?"请输入金额":t.money)+"\n      ")])]),i("div",{staticClass:"middel_right fr"},[i("div",{staticClass:"reset fl",on:{click:function(e){return t.reset(null)}}},[t._v("重置")]),i("div",{staticClass:"betting fl",on:{click:t.betting}},[i("span",[t._v("投注")]),t.bettingFlg?i("i",{staticClass:"iconfont icon-jiazai"}):t._e()])])]),t.keyboardStatus?i("div",{staticClass:"betting_bottom clear"},[i("div",{staticClass:"keyboard_left fl"},t._l(9,function(e){return i("div",{key:e,class:["buttons",{activeBtn:t.keyNum===e}],on:{click:function(i){return t.keyDown(e)},touchstart:function(i){t.keyNum=e},touchend:function(e){t.keyNum=""}}},[t._v(t._s(e))])}),0),i("div",{staticClass:"keyboard_right fl"},t._l(t.keyList,function(e,a){return i("div",{key:a,class:["buttons",{activeBtn:t.keyNum===e}],on:{click:function(i){return t.keyDown(e)},touchstart:function(i){t.keyNum=e},touchend:function(e){t.keyNum=""}}},["c"!==e?i("span",[t._v(t._s(e))]):i("i",{class:["iconfont icon-clear",{whiteIcon:t.keyNum===e}]})])}),0)]):t._e(),t.chipSetting?i("div",{staticClass:"chip_setting",on:{click:function(e){if(e.target!==e.currentTarget)return null;t.chipSetting=!1}}},[i("div",{staticClass:"setting_inner"},[i("div",{staticClass:"inner_title theme-backgound"},[t._v("筹码设定")]),i("div",{staticClass:"inner_main clear"},t._l(t.allChip,function(e,a){return i("div",{key:a,staticClass:"img_wrap fl",on:{click:function(i){return t.changeDefaultChip(e)}}},[i("img",{attrs:{src:t.$publicPath+"images/bjlChip/"+t.judgeColor(e)+".png"}})])}),0),i("div",{staticClass:"inner_btn theme-font-color"},[i("div",{on:{click:t.closeChipSetting}},[t._v("取消")]),i("div",{on:{click:t.confirmChipSetting}},[t._v("确定")])])])]):t._e(),i("tip",{attrs:{successTitle:t.successTitle},model:{value:t.successFlag,callback:function(e){t.successFlag=e},expression:"successFlag"}}),t.bettingPopupFlag?i("betting-popup",{ref:"bettingPopup",attrs:{betOrders:t.betOrders,expect:t.expect}}):t._e()],1)},[],!1,null,"22184fea",null);e.a=h.exports},f8c7:function(t,e,i){"use strict";var a=i("404f");i.n(a).a}}]);